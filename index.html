<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>DuckyHub Key System</title>
  <style>
    body { background:#121212; color:#eee; font-family:sans-serif; text-align:center; margin-top:6%; }
    select, button { font-size:18px; padding:10px; margin:10px; border-radius:10px; }
    button { background:#00cc99; border:none; color:#fff; cursor:pointer; }
    #key { margin-top:20px; font-size:20px; color:#00ff99; white-space: pre-wrap; }
    .lang-btn { position: absolute; top: 10px; right: 10px; font-size: 18px; background: transparent; border: none; color: white; cursor: pointer; }
  </style>
</head>
<body>
  <button class="lang-btn" onclick="toggleLang()">üåê</button>
  <h1 id="title">üîë ‡∏£‡∏±‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå DuckyHub</h1>
  <select id="duration">
    <option value="1d">‡∏Ñ‡∏µ‡∏¢‡πå 1 ‡∏ß‡∏±‡∏ô</option>
    <option value="3d">‡∏Ñ‡∏µ‡∏¢‡πå 3 ‡∏ß‡∏±‡∏ô</option>
    <option value="7d">‡∏Ñ‡∏µ‡∏¢‡πå 7 ‡∏ß‡∏±‡∏ô</option>
    <option value="premium_trial">Premium Trial (‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Discord)</option>
    <option value="lifetime">Lifetime Premium (‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Discord)</option>
  </select><br/>
  <button onclick="getKey()" id="btnGet">üì• ‡∏£‡∏±‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå</button>
  <div id="key"></div>

<script>
  const keyLinks = {
    "1d": "https://raw.githubusercontent.com/DuckyZ11/DuckyZ11-scripts/refs/heads/main/1day_key",
    "3d": "https://raw.githubusercontent.com/DuckyZ11/DuckyZ11-scripts/refs/heads/main/3day_key",
    "7d": "https://raw.githubusercontent.com/DuckyZ11/DuckyZ11-scripts/refs/heads/main/7day_key"
  };

  const durations = {
    "1d": 86400,
    "3d": 86400 * 3,
    "7d": 86400 * 7
  };

  const langData = {
    "th": {
      title: "üîë ‡∏£‡∏±‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå DuckyHub",
      btnGet: "üì• ‡∏£‡∏±‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå",
      premiumText: "dms my discord areayousure",
      invalidType: "‚ùå ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ñ‡∏µ‡∏¢‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á",
      keyUsed: (type, h, m, s) => `‚õî ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó "${type}" ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß\n‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏≠‡∏µ‡∏Å ${h} ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ${m} ‡∏ô‡∏≤‡∏ó‡∏µ ${s} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∞‡∏£‡∏±‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏∑‡πà‡∏ô‡πÑ‡∏î‡πâ`,
      keyEmpty: "‚ùå ‡∏Ñ‡∏µ‡∏¢‡πå‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•",
      fetchFail: "‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏µ‡∏¢‡πå‡πÑ‡∏î‡πâ",
      keyResult: (k) => `‚úÖ ‡∏Ñ‡∏µ‡∏¢‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏∑‡∏≠:\n${k}`,
      selectOptions: {
        "1d": "‡∏Ñ‡∏µ‡∏¢‡πå 1 ‡∏ß‡∏±‡∏ô",
        "3d": "‡∏Ñ‡∏µ‡∏¢‡πå 3 ‡∏ß‡∏±‡∏ô",
        "7d": "‡∏Ñ‡∏µ‡∏¢‡πå 7 ‡∏ß‡∏±‡∏ô",
        "premium_trial": "Premium Trial (‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Discord)",
        "lifetime": "Lifetime Premium (‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ Discord)"
      }
    },
    "en": {
      title: "üîë Get DuckyHub Key",
      btnGet: "üì• Get Key",
      premiumText: "dms my discord areayousure",
      invalidType: "‚ùå Invalid key type",
      keyUsed: (type, h, m, s) => `‚õî You already got a "${type}" key.\nPlease wait ${h}h ${m}m ${s}s before getting another.`,
      keyEmpty: "‚ùå All keys are used. Contact the admin.",
      fetchFail: "‚ùå Failed to fetch key.",
      keyResult: (k) => `‚úÖ Your key:\n${k}`,
      selectOptions: {
        "1d": "1 Day Key",
        "3d": "3 Day Key",
        "7d": "7 Day Key",
        "premium_trial": "Premium Trial (Contact Discord)",
        "lifetime": "Lifetime Premium (Contact Discord)"
      }
    }
  };

  let currentLang = localStorage.getItem("lang") || "th";

  function updateLangUI() {
    const t = langData[currentLang];
    document.getElementById("title").innerText = t.title;
    document.getElementById("btnGet").innerText = t.btnGet;

    const duration = document.getElementById("duration");
    Array.from(duration.options).forEach(opt => {
      opt.text = t.selectOptions[opt.value];
    });
  }

  function toggleLang() {
    currentLang = currentLang === "th" ? "en" : "th";
    localStorage.setItem("lang", currentLang);
    updateLangUI();
  }

  function getKey() {
    const val = document.getElementById("duration").value;
    const now = Date.now();
    const t = langData[currentLang];
    const keyDiv = document.getElementById("key");

    // Premium ‡πÑ‡∏°‡πà‡∏•‡πá‡∏≠‡∏Å
    if (val === "premium_trial" || val === "lifetime") {
      keyDiv.innerText = t.premiumText;
      return;
    }

    // ‡∏•‡πá‡∏≠‡∏Å‡∏´‡∏°‡∏î ‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∞‡πÑ‡∏£‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ñ‡πâ‡∏≤‡∏°‡∏µ expire
    const expire = localStorage.getItem("key_expire");
    const lockedType = localStorage.getItem("key_type");

    if (expire && now < parseInt(expire)) {
      const remaining = parseInt(expire) - now;
      const h = Math.floor(remaining / 3600000);
      const m = Math.floor((remaining % 3600000) / 60000);
      const s = Math.floor((remaining % 60000) / 1000);
      keyDiv.innerText = t.keyUsed(lockedType || val, h, m, s);
      return;
    }

    const url = keyLinks[val];
    if (!url) {
      keyDiv.innerText = t.invalidType;
      return;
    }

    fetch(url)
      .then(res => {
        if (!res.ok) throw new Error();
        return res.text();
      })
      .then(text => {
        const keys = text.trim().split("\n").map(k => k.trim()).filter(k => k.length > 0);
        const usedKeys = JSON.parse(sessionStorage.getItem(val) || "[]");
        const available = keys.filter(k => !usedKeys.includes(k));
        if (available.length === 0) {
          keyDiv.innerText = t.keyEmpty;
          return;
        }

        const randKey = available[Math.floor(Math.random() * available.length)];
        usedKeys.push(randKey);
        sessionStorage.setItem(val, JSON.stringify(usedKeys));

        // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡∏Ñ‡∏µ‡∏¢‡πå‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏•‡πá‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á)
        localStorage.setItem("key_type", val);
        localStorage.setItem("key_expire", (now + durations[val] * 1000).toString());

        keyDiv.innerText = t.keyResult(randKey);
      })
      .catch(() => {
        keyDiv.innerText = t.fetchFail;
      });
  }

  updateLangUI();
</script>
</body>
</html>